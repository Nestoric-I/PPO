**Дата:** 10 декабря 2023 г.

**Статус:** Принято

**Контекст:** 

При разработке приложения ДО, нам необходимо выбрать брокер сообщений, чтобы обеспечить в разрабатываемой системе низкую связанность компонентов, т.к. ранее была выбрана архитектурная форма системы - модульный монолит

**Рассмотренные варианты:**

1. **Apache Kafka:**  брокер сообщений с открытым исходным кодом. Применяется в высоконагруженных системах для асинхронной интеграции, где требуется гарантированная доставка сообщений. 
2. **RabbitMQ:**  брокер сообщений с открытым исходным кодом, который реализует протокол. Применяется в системах для асинхронной интеграции, где требуется гибкая и надежная маршрутизация сообщений.
3. **Redis** - простой брокер очередей, который покрывает нужды большинства небольших проектов. Очереди в Redis реализуются с помощью встроенной структуры данных Lists. 

**Решение:**

RabbitMQ

**Обоснование:**

- **Удобная библиотека MassTransit**, которая обеспечивает высокоуровневую абстракцию поверх брокера сообщений
- **Гибкость:** гибкая маршрутизация сообщений между различными поставщиками (Producer) и потребителями (Consumer) событий, которая отправляет сообщения не в саму очередь, а на обменник, который сам распределяет сообщения между очередями.
- **Удобный подход к обмену сообщениями** используется подход push, когда брокер сам активно отправляет сообщения консьюмерам, которые подписаны на очереди. Такой подход позволяет уменьшить задержку обработки данных и более равномерно распределить нагрузку между потребителями.
- **Использование различных протоколов** поддерживает несколько стандартизированных протоколов: AMQP, MQTT, STOMP и др. Это позволяет заменить его на любой брокер на основе AMQP.
- **Скорость** задержка обработки данных минимальна за счет активной отправки сообщений брокерам


**Последствия:**

- В системе будет низкая связанность компонентов
